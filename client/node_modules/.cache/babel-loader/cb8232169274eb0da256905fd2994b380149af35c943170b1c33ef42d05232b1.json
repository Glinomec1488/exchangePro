{"ast":null,"code":"import{useState,useRef}from\"react\";import\"./styles.css\";import arrow from\"../../../../../../assets/drop_arrow.svg\";import{getActiveCurrencyStyle}from\"../currenciesList/helpers\";import{useAppSelector}from\"../../../../../../store/hooks\";import useCurrency from\"../../hooks/useCurrency\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CurrencyDropDown=_ref=>{let{isTo,text}=_ref;const[isActive,setIsActive]=useState(false);const dropdownRef=useRef(null);const{// currencies,\nsetFromCurrency,setToCurrency}=useCurrency();const toCurrency=useAppSelector(state=>state.exchange.toCurrency);const fromCurrency=useAppSelector(state=>state.exchange.fromCurrency);const currencies=useAppSelector(state=>state.exchange.currencies);const handleSelectCurrency=(shortName,fullName)=>{if(isTo&&fromCurrency.fullName!==fullName){setToCurrency(shortName,fullName);}if(!isTo&&toCurrency.fullName!==fullName){setFromCurrency(shortName,fullName);}};const toggleDropdown=()=>{if(dropdownRef.current){const element=dropdownRef.current;if(isActive){// Collapse: Set height to 0\nelement.style.maxHeight=\"0px\";}else{// Expand: Set height to the content's scrollHeight\nelement.style.maxHeight=`${element.scrollHeight}px`;}setIsActive(prev=>!prev);// Toggle active state\n}};return/*#__PURE__*/_jsxs(\"div\",{className:\"drop_container\",children:[/*#__PURE__*/_jsxs(\"div\",{onClick:toggleDropdown,ref:dropdownRef,className:\"exchange__block-title\",style:{maxHeight:\"0\",// Start collapsed\noverflow:\"visible\",// Hide content outside bounds\ntransition:\"max-height 0.3s ease-in-out\"// Smooth animation\n},children:[text,/*#__PURE__*/_jsx(\"img\",{src:arrow,alt:\"\"})]}),/*#__PURE__*/_jsx(\"div\",{className:isActive?\"dropdown dropdown_active\":\"dropdown\",children:currencies&&currencies.map(currency=>/*#__PURE__*/_jsx(\"div\",{onClick:()=>{handleSelectCurrency(currency.shortName,currency.fullName);},className:`exchange__block-item exchange__block-item-send ${getActiveCurrencyStyle(isTo,currency.fullName,fromCurrency.fullName,toCurrency.fullName)}`,children:/*#__PURE__*/_jsx(\"img\",{src:require(`../../../../../../static/${currency.imageUrlP}.svg`)//{`${getEnv(process.env.REACT_APP_SERVER_URL,\"REACT_APP_SERVER_URL\")}/static/${currency.imageUrlP}.svg`}\n,alt:\"\"})},currency.fullName))})]});};export default CurrencyDropDown;","map":{"version":3,"names":["useState","useRef","arrow","getActiveCurrencyStyle","useAppSelector","useCurrency","jsx","_jsx","jsxs","_jsxs","CurrencyDropDown","_ref","isTo","text","isActive","setIsActive","dropdownRef","setFromCurrency","setToCurrency","toCurrency","state","exchange","fromCurrency","currencies","handleSelectCurrency","shortName","fullName","toggleDropdown","current","element","style","maxHeight","scrollHeight","prev","className","children","onClick","ref","overflow","transition","src","alt","map","currency","require","imageUrlP"],"sources":["C:/Users/1/Videos/exchangePro-main/client/src/screens/home/components/exchange/components/currencyDropdown/index.tsx"],"sourcesContent":["import { useState, useRef } from \"react\";\nimport \"./styles.css\";\nimport arrow from \"../../../../../../assets/drop_arrow.svg\";\nimport { getActiveCurrencyStyle } from \"../currenciesList/helpers\";\nimport { useAppSelector } from \"../../../../../../store/hooks\";\nimport useCurrency from \"../../hooks/useCurrency\";\ninterface IProps {\n  isTo: boolean;\n  text: string;\n}\n\nconst CurrencyDropDown = ({ isTo, text }: IProps) => {\n  const [isActive, setIsActive] = useState(false);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n  const {\n    // currencies,\n    setFromCurrency,\n    setToCurrency,\n  } = useCurrency();\n\n  const toCurrency = useAppSelector((state) => state.exchange.toCurrency);\n  const fromCurrency = useAppSelector((state) => state.exchange.fromCurrency);\n  const currencies = useAppSelector((state) => state.exchange.currencies);\n\n  const handleSelectCurrency = (shortName: string, fullName: string) => {\n    if (isTo && fromCurrency.fullName !== fullName) {\n      setToCurrency(shortName, fullName);\n    }\n    if (!isTo && toCurrency.fullName !== fullName) {\n      setFromCurrency(shortName, fullName);\n    }\n  };\n  const toggleDropdown = () => {\n    if (dropdownRef.current) {\n      const element = dropdownRef.current;\n      if (isActive) {\n        // Collapse: Set height to 0\n        element.style.maxHeight = \"0px\";\n      } else {\n        // Expand: Set height to the content's scrollHeight\n        element.style.maxHeight = `${element.scrollHeight}px`;\n      }\n\n      setIsActive((prev) => !prev); // Toggle active state\n    }\n  };\n  return (\n    <div className=\"drop_container\">\n      <div\n        onClick={toggleDropdown}\n        ref={dropdownRef}\n        className=\"exchange__block-title\"\n        style={{\n          maxHeight: \"0\", // Start collapsed\n          overflow: \"visible\", // Hide content outside bounds\n          transition: \"max-height 0.3s ease-in-out\", // Smooth animation\n        }}\n      >\n        {text}\n        <img src={arrow} alt=\"\" />\n      </div>\n      <div className={isActive ? \"dropdown dropdown_active\" : \"dropdown\"}>\n        {currencies &&\n          currencies.map((currency) => (\n            <div\n              key={currency.fullName}\n              onClick={() => {\n                handleSelectCurrency(currency.shortName, currency.fullName);\n              }}\n              className={`exchange__block-item exchange__block-item-send ${getActiveCurrencyStyle(\n                isTo,\n                currency.fullName,\n                fromCurrency.fullName,\n                toCurrency.fullName\n              )}`}\n            >\n              <img\n                src={require(`../../../../../../static/${currency.imageUrlP}.svg`)} //{`${getEnv(process.env.REACT_APP_SERVER_URL,\"REACT_APP_SERVER_URL\")}/static/${currency.imageUrlP}.svg`}\n                alt=\"\"\n              />\n            </div>\n          ))}\n      </div>\n    </div>\n  );\n};\n\nexport default CurrencyDropDown;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}